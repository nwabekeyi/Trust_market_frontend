import{r as l,b,j as e}from"./index-BRV6blv7.js";import{c as f,a as t,b as w,C as y,T as s}from"./index.esm-DUpsQ7dV.js";import{e as n}from"./constant-WXt0_JmR.js";const g=r=>{const a=l.useCallback(async i=>{try{if(!(await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify(i)})).ok)throw new Error("Failed to submit data")}catch(o){throw o}},[r]);return l.useMemo(()=>({submit:a}),[a])};function N(){const r=b().pathname,a=r==="/auth2/buyer-register"?n.buyerRegister:n.sellerRegister,{submit:i}=g(a),[o,m]=l.useState({email:"",userName:"",password:"",confirmPassword:"",phone_number:""}),c=f().shape({email:t().email("Invalid email").required("Email is required"),userName:t().required("Username is required"),password:t().required("Password is required"),confirmPassword:t().required("Confirm password is required").oneOf([w("password"),null],"Passwords must match"),phone_number:t().matches(/^\d+$/,"Invalid phone number").required("Phone number is required")}),d=async(p,{resetForm:h})=>{try{await i(p),h()}catch(x){console.error("Error submitting form:",x)}},u=r==="/auth2/seller-register"?"Hi, welcome seller":"Hi, welcome to the best marketplace";return e.jsx("section",{className:"w-full py-10 lg:w-2/5 border-[solid] border-[1px] border-greyLighter flex flex-col py-2 items-center justify-center rounded-[20px] bg-white shadow-lg mx-auto",children:e.jsx("div",{className:"w-4/5 mx-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl text-greyLight font- mb-1",style:{fontFamily:"markazi"},children:"Create an account"}),e.jsx("div",{children:e.jsxs(y,{initialValues:o,validationSchema:c,onSubmit:d,title:u,values:m,title2:"Explore the most secured marketplace ",register:!0,children:[e.jsx(s,{label:"Email",name:"email",type:"email",style:{textAlign:"left"}}),e.jsx(s,{label:"Username",name:"userName",type:"text",style:{textAlign:"left"}}),e.jsx(s,{label:"Password",name:"password",type:"password",style:{textAlign:"left"}}),e.jsx(s,{label:"Confirm Password",name:"confirmPassword",type:"password",style:{textAlign:"left"}}),e.jsx(s,{label:"Phone Number",name:"phone_number",type:"text",style:{textAlign:"left"}})]})})]})})})}export{N as SignUpForm,N as default};
